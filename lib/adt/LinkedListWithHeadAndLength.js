'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.find = undefined;
exports.union = union;
exports.Universe = Universe;

var _fundamentals = require('../fundamentals');

function union(back, next, length, a, b) {

	if (length[a] < length[b]) {
		var c = a;
		a = b;
		b = c;
	}

	next[back[a]] = b;
	back[a] = back[b];

	for (var _c = next[a]; _c !== b; _c = next[_c]) {
		back[_c] = back[b];
	}length[a] += length[b];

	return a;
}

var find = exports.find = function find(back, node) {
	return back[node];
};

function Universe(n) {
	var List = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Array;

	this.back = (0, _fundamentals.selfs)(n, List);
	this.next = (0, _fundamentals.nulls)(n, List);
	this._length = (0, _fundamentals.ones)(n, List);
}

Universe.prototype.union = function (a, b) {
	return union(this.back, this.next, this._length, a, b);
};

Universe.prototype.find = function (node) {
	return find(this.back, node);
};

exports.default = {
	Universe: Universe,
	union: union,
	find: find
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hZHQvTGlua2VkTGlzdFdpdGhIZWFkQW5kTGVuZ3RoLmpzIl0sIm5hbWVzIjpbInVuaW9uIiwiVW5pdmVyc2UiLCJiYWNrIiwibmV4dCIsImxlbmd0aCIsImEiLCJiIiwiYyIsImZpbmQiLCJub2RlIiwibiIsIkxpc3QiLCJBcnJheSIsIl9sZW5ndGgiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiI7Ozs7OztRQUVnQkEsSyxHQUFBQSxLO1FBcUJBQyxRLEdBQUFBLFE7O0FBdkJoQjs7QUFFTyxTQUFTRCxLQUFULENBQWlCRSxJQUFqQixFQUF3QkMsSUFBeEIsRUFBK0JDLE1BQS9CLEVBQXdDQyxDQUF4QyxFQUE0Q0MsQ0FBNUMsRUFBZ0Q7O0FBRXRELEtBQUtGLE9BQU9DLENBQVAsSUFBWUQsT0FBT0UsQ0FBUCxDQUFqQixFQUE2QjtBQUM1QixNQUFJQyxJQUFJRixDQUFSO0FBQ0FBLE1BQUlDLENBQUo7QUFDQUEsTUFBSUMsQ0FBSjtBQUNBOztBQUVESixNQUFLRCxLQUFLRyxDQUFMLENBQUwsSUFBZ0JDLENBQWhCO0FBQ0FKLE1BQUtHLENBQUwsSUFBVUgsS0FBS0ksQ0FBTCxDQUFWOztBQUVBLE1BQU0sSUFBSUMsS0FBSUosS0FBS0UsQ0FBTCxDQUFkLEVBQXdCRSxPQUFNRCxDQUE5QixFQUFrQ0MsS0FBSUosS0FBS0ksRUFBTCxDQUF0QztBQUFnREwsT0FBS0ssRUFBTCxJQUFVTCxLQUFLSSxDQUFMLENBQVY7QUFBaEQsRUFFQUYsT0FBT0MsQ0FBUCxLQUFhRCxPQUFPRSxDQUFQLENBQWI7O0FBRUEsUUFBT0QsQ0FBUDtBQUVBOztBQUVNLElBQU1HLHNCQUFPLFNBQVBBLElBQU8sQ0FBRU4sSUFBRixFQUFTTyxJQUFUO0FBQUEsUUFBbUJQLEtBQUtPLElBQUwsQ0FBbkI7QUFBQSxDQUFiOztBQUVBLFNBQVNSLFFBQVQsQ0FBb0JTLENBQXBCLEVBQXVDO0FBQUEsS0FBZkMsSUFBZSx1RUFBUkMsS0FBUTs7QUFDN0MsTUFBS1YsSUFBTCxHQUFZLHlCQUFPUSxDQUFQLEVBQVdDLElBQVgsQ0FBWjtBQUNBLE1BQUtSLElBQUwsR0FBWSx5QkFBT08sQ0FBUCxFQUFXQyxJQUFYLENBQVo7QUFDQSxNQUFLRSxPQUFMLEdBQWUsd0JBQU1ILENBQU4sRUFBVUMsSUFBVixDQUFmO0FBQ0E7O0FBRURWLFNBQVNhLFNBQVQsQ0FBbUJkLEtBQW5CLEdBQTJCLFVBQVdLLENBQVgsRUFBZUMsQ0FBZixFQUFtQjtBQUM3QyxRQUFPTixNQUFPLEtBQUtFLElBQVosRUFBbUIsS0FBS0MsSUFBeEIsRUFBK0IsS0FBS1UsT0FBcEMsRUFBOENSLENBQTlDLEVBQWtEQyxDQUFsRCxDQUFQO0FBQ0EsQ0FGRDs7QUFJQUwsU0FBU2EsU0FBVCxDQUFtQk4sSUFBbkIsR0FBMEIsVUFBV0MsSUFBWCxFQUFrQjtBQUMzQyxRQUFPRCxLQUFNLEtBQUtOLElBQVgsRUFBa0JPLElBQWxCLENBQVA7QUFDQSxDQUZEOztrQkFJZTtBQUNkUixtQkFEYztBQUVkRCxhQUZjO0FBR2RRO0FBSGMsQyIsImZpbGUiOiJMaW5rZWRMaXN0V2l0aEhlYWRBbmRMZW5ndGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZWxmcyAsIG51bGxzICwgb25lcyB9IGZyb20gJy4uL2Z1bmRhbWVudGFscycgO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5pb24gKCBiYWNrICwgbmV4dCAsIGxlbmd0aCAsIGEgLCBiICkge1xuXG5cdGlmICggbGVuZ3RoW2FdIDwgbGVuZ3RoW2JdICkge1xuXHRcdGxldCBjID0gYSA7XG5cdFx0YSA9IGIgO1xuXHRcdGIgPSBjIDtcblx0fVxuXG5cdG5leHRbYmFja1thXV0gPSBiIDtcblx0YmFja1thXSA9IGJhY2tbYl0gO1xuXG5cdGZvciAoIGxldCBjID0gbmV4dFthXSA7IGMgIT09IGIgOyBjID0gbmV4dFtjXSApIGJhY2tbY10gPSBiYWNrW2JdIDtcblxuXHRsZW5ndGhbYV0gKz0gbGVuZ3RoW2JdIDtcblxuXHRyZXR1cm4gYSA7XG5cbn1cblxuZXhwb3J0IGNvbnN0IGZpbmQgPSAoIGJhY2sgLCBub2RlICkgPT4gYmFja1tub2RlXSA7XG5cbmV4cG9ydCBmdW5jdGlvbiBVbml2ZXJzZSAoIG4gLCBMaXN0ID0gQXJyYXkgKSB7XG5cdHRoaXMuYmFjayA9IHNlbGZzKCBuICwgTGlzdCApIDtcblx0dGhpcy5uZXh0ID0gbnVsbHMoIG4gLCBMaXN0ICkgO1xuXHR0aGlzLl9sZW5ndGggPSBvbmVzKCBuICwgTGlzdCApIDtcbn1cblxuVW5pdmVyc2UucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24gKCBhICwgYiApIHtcblx0cmV0dXJuIHVuaW9uKCB0aGlzLmJhY2sgLCB0aGlzLm5leHQgLCB0aGlzLl9sZW5ndGggLCBhICwgYiApIDtcbn0gO1xuXG5Vbml2ZXJzZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uICggbm9kZSApIHtcblx0cmV0dXJuIGZpbmQoIHRoaXMuYmFjayAsIG5vZGUgKSA7XG59IDtcblxuZXhwb3J0IGRlZmF1bHQge1xuXHRVbml2ZXJzZSAsXG5cdHVuaW9uICxcblx0ZmluZCAsXG59IDtcbiJdfQ==