'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.find = undefined;
exports.union = union;
exports.Universe = Universe;

var _fundamentals = require('../fundamentals');

function union(back, next, a, b) {

	next[back[a]] = b;
	back[a] = back[b];

	for (var c = next[a]; c !== b; c = next[c]) {
		back[c] = back[b];
	}return a;
}

var find = exports.find = function find(back, node) {
	return back[node];
};

function Universe(n) {
	var List = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Array;

	this.back = (0, _fundamentals.selfs)(n, List);
	this.next = (0, _fundamentals.nulls)(n, List);
}

Universe.prototype.union = function (a, b) {
	return union(this.back, this.next, a, b);
};

Universe.prototype.find = function (node) {
	return find(this.back, node);
};

exports.default = {
	Universe: Universe,
	union: union,
	find: find
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hZHQvTGlua2VkTGlzdFdpdGhIZWFkLmpzIl0sIm5hbWVzIjpbInVuaW9uIiwiVW5pdmVyc2UiLCJiYWNrIiwibmV4dCIsImEiLCJiIiwiYyIsImZpbmQiLCJub2RlIiwibiIsIkxpc3QiLCJBcnJheSIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O1FBRWdCQSxLLEdBQUFBLEs7UUFhQUMsUSxHQUFBQSxROztBQWZoQjs7QUFFTyxTQUFTRCxLQUFULENBQWlCRSxJQUFqQixFQUF3QkMsSUFBeEIsRUFBK0JDLENBQS9CLEVBQW1DQyxDQUFuQyxFQUF1Qzs7QUFFN0NGLE1BQUtELEtBQUtFLENBQUwsQ0FBTCxJQUFnQkMsQ0FBaEI7QUFDQUgsTUFBS0UsQ0FBTCxJQUFVRixLQUFLRyxDQUFMLENBQVY7O0FBRUEsTUFBTSxJQUFJQyxJQUFJSCxLQUFLQyxDQUFMLENBQWQsRUFBd0JFLE1BQU1ELENBQTlCLEVBQWtDQyxJQUFJSCxLQUFLRyxDQUFMLENBQXRDO0FBQWdESixPQUFLSSxDQUFMLElBQVVKLEtBQUtHLENBQUwsQ0FBVjtBQUFoRCxFQUVBLE9BQU9ELENBQVA7QUFFQTs7QUFFTSxJQUFNRyxzQkFBTyxTQUFQQSxJQUFPLENBQUVMLElBQUYsRUFBU00sSUFBVDtBQUFBLFFBQW1CTixLQUFLTSxJQUFMLENBQW5CO0FBQUEsQ0FBYjs7QUFFQSxTQUFTUCxRQUFULENBQW9CUSxDQUFwQixFQUFzQztBQUFBLEtBQWRDLElBQWMsdUVBQVBDLEtBQU87O0FBQzVDLE1BQUtULElBQUwsR0FBWSx5QkFBT08sQ0FBUCxFQUFXQyxJQUFYLENBQVo7QUFDQSxNQUFLUCxJQUFMLEdBQVkseUJBQU9NLENBQVAsRUFBV0MsSUFBWCxDQUFaO0FBQ0E7O0FBRURULFNBQVNXLFNBQVQsQ0FBbUJaLEtBQW5CLEdBQTJCLFVBQVdJLENBQVgsRUFBZUMsQ0FBZixFQUFtQjtBQUM3QyxRQUFPTCxNQUFPLEtBQUtFLElBQVosRUFBbUIsS0FBS0MsSUFBeEIsRUFBK0JDLENBQS9CLEVBQW1DQyxDQUFuQyxDQUFQO0FBQ0EsQ0FGRDs7QUFJQUosU0FBU1csU0FBVCxDQUFtQkwsSUFBbkIsR0FBMEIsVUFBV0MsSUFBWCxFQUFrQjtBQUMzQyxRQUFPRCxLQUFNLEtBQUtMLElBQVgsRUFBa0JNLElBQWxCLENBQVA7QUFDQSxDQUZEOztrQkFJZTtBQUNkUCxtQkFEYztBQUVkRCxhQUZjO0FBR2RPO0FBSGMsQyIsImZpbGUiOiJMaW5rZWRMaXN0V2l0aEhlYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZWxmcyAsIG51bGxzIH0gZnJvbSAnLi4vZnVuZGFtZW50YWxzJyA7XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlvbiAoIGJhY2sgLCBuZXh0ICwgYSAsIGIgKSB7XG5cblx0bmV4dFtiYWNrW2FdXSA9IGIgO1xuXHRiYWNrW2FdID0gYmFja1tiXSA7XG5cblx0Zm9yICggbGV0IGMgPSBuZXh0W2FdIDsgYyAhPT0gYiA7IGMgPSBuZXh0W2NdICkgYmFja1tjXSA9IGJhY2tbYl0gO1xuXG5cdHJldHVybiBhIDtcblxufVxuXG5leHBvcnQgY29uc3QgZmluZCA9ICggYmFjayAsIG5vZGUgKSA9PiBiYWNrW25vZGVdIDtcblxuZXhwb3J0IGZ1bmN0aW9uIFVuaXZlcnNlICggbiAsIExpc3QgPSBBcnJheSkge1xuXHR0aGlzLmJhY2sgPSBzZWxmcyggbiAsIExpc3QgKSA7XG5cdHRoaXMubmV4dCA9IG51bGxzKCBuICwgTGlzdCApIDtcbn1cblxuVW5pdmVyc2UucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24gKCBhICwgYiApIHtcblx0cmV0dXJuIHVuaW9uKCB0aGlzLmJhY2sgLCB0aGlzLm5leHQgLCBhICwgYiApIDtcbn0gO1xuXG5Vbml2ZXJzZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uICggbm9kZSApIHtcblx0cmV0dXJuIGZpbmQoIHRoaXMuYmFjayAsIG5vZGUgKSA7XG59IDtcblxuZXhwb3J0IGRlZmF1bHQge1xuXHRVbml2ZXJzZSAsXG5cdHVuaW9uICxcblx0ZmluZCAsXG59IDtcbiJdfQ==