'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.union = union;
exports.find = find;
exports.Universe = Universe;

var _fundamentals = require('../fundamentals');

function union(back, next, a, b) {

	next[back[a]] = b;
	back[a] = back[b];
	return a;
}

function find(next, node) {

	while (next[node] !== -1) {
		node = next[node];
	}return node;
}

function Universe(n) {
	var List = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Array;

	this.back = (0, _fundamentals.selfs)(n, List);
	this.next = (0, _fundamentals.nulls)(n, List);
}

Universe.prototype.union = function (a, b) {
	return union(this.back, this.next, a, b);
};

Universe.prototype.find = function (node) {
	return find(this.next, node);
};

exports.default = {
	Universe: Universe,
	union: union,
	find: find
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hZHQvTGlua2VkTGlzdC5qcyJdLCJuYW1lcyI6WyJ1bmlvbiIsImZpbmQiLCJVbml2ZXJzZSIsImJhY2siLCJuZXh0IiwiYSIsImIiLCJub2RlIiwibiIsIkxpc3QiLCJBcnJheSIsInByb3RvdHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFFZ0JBLEssR0FBQUEsSztRQVFBQyxJLEdBQUFBLEk7UUFRQUMsUSxHQUFBQSxROztBQWxCaEI7O0FBRU8sU0FBU0YsS0FBVCxDQUFpQkcsSUFBakIsRUFBd0JDLElBQXhCLEVBQStCQyxDQUEvQixFQUFtQ0MsQ0FBbkMsRUFBdUM7O0FBRTdDRixNQUFLRCxLQUFLRSxDQUFMLENBQUwsSUFBZ0JDLENBQWhCO0FBQ0FILE1BQUtFLENBQUwsSUFBVUYsS0FBS0csQ0FBTCxDQUFWO0FBQ0EsUUFBT0QsQ0FBUDtBQUVBOztBQUVNLFNBQVNKLElBQVQsQ0FBZ0JHLElBQWhCLEVBQXVCRyxJQUF2QixFQUE4Qjs7QUFFcEMsUUFBUUgsS0FBS0csSUFBTCxNQUFlLENBQUMsQ0FBeEI7QUFBNEJBLFNBQU9ILEtBQUtHLElBQUwsQ0FBUDtBQUE1QixFQUVBLE9BQU9BLElBQVA7QUFFQTs7QUFFTSxTQUFTTCxRQUFULENBQW9CTSxDQUFwQixFQUF1QztBQUFBLEtBQWZDLElBQWUsdUVBQVJDLEtBQVE7O0FBQzdDLE1BQUtQLElBQUwsR0FBWSx5QkFBT0ssQ0FBUCxFQUFXQyxJQUFYLENBQVo7QUFDQSxNQUFLTCxJQUFMLEdBQVkseUJBQU9JLENBQVAsRUFBV0MsSUFBWCxDQUFaO0FBQ0E7O0FBRURQLFNBQVNTLFNBQVQsQ0FBbUJYLEtBQW5CLEdBQTJCLFVBQVdLLENBQVgsRUFBZUMsQ0FBZixFQUFtQjtBQUM3QyxRQUFPTixNQUFPLEtBQUtHLElBQVosRUFBbUIsS0FBS0MsSUFBeEIsRUFBK0JDLENBQS9CLEVBQW1DQyxDQUFuQyxDQUFQO0FBQ0EsQ0FGRDs7QUFJQUosU0FBU1MsU0FBVCxDQUFtQlYsSUFBbkIsR0FBMEIsVUFBV00sSUFBWCxFQUFrQjtBQUMzQyxRQUFPTixLQUFNLEtBQUtHLElBQVgsRUFBa0JHLElBQWxCLENBQVA7QUFDQSxDQUZEOztrQkFJZTtBQUNkTCxtQkFEYztBQUVkRixhQUZjO0FBR2RDO0FBSGMsQyIsImZpbGUiOiJMaW5rZWRMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VsZnMgLCBudWxscyB9IGZyb20gJy4uL2Z1bmRhbWVudGFscycgO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5pb24gKCBiYWNrICwgbmV4dCAsIGEgLCBiICkge1xuXG5cdG5leHRbYmFja1thXV0gPSBiIDtcblx0YmFja1thXSA9IGJhY2tbYl0gO1xuXHRyZXR1cm4gYSA7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQgKCBuZXh0ICwgbm9kZSApIHtcblxuXHR3aGlsZSAoIG5leHRbbm9kZV0gIT09IC0xICkgbm9kZSA9IG5leHRbbm9kZV0gO1xuXG5cdHJldHVybiBub2RlIDtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5pdmVyc2UgKCBuICwgTGlzdCA9IEFycmF5ICkge1xuXHR0aGlzLmJhY2sgPSBzZWxmcyggbiAsIExpc3QgKSA7XG5cdHRoaXMubmV4dCA9IG51bGxzKCBuICwgTGlzdCApIDtcbn1cblxuVW5pdmVyc2UucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24gKCBhICwgYiApIHtcblx0cmV0dXJuIHVuaW9uKCB0aGlzLmJhY2sgLCB0aGlzLm5leHQgLCBhICwgYiApIDtcbn0gO1xuXG5Vbml2ZXJzZS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uICggbm9kZSApIHtcblx0cmV0dXJuIGZpbmQoIHRoaXMubmV4dCAsIG5vZGUgKSA7XG59IDtcblxuZXhwb3J0IGRlZmF1bHQge1xuXHRVbml2ZXJzZSAsXG5cdHVuaW9uICxcblx0ZmluZCAsXG59IDtcbiJdfQ==